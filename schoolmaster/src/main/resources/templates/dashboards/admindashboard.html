<!-- Admin Dashboard -->
<!DOCTYPE html>
<html lang="en" xmlns:th="https://thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Admin Dashboard</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
	<link rel="stylesheet" th:href="@{/css/dashborad.css}">
</head>

<body>
	<div class="container-fluid d-flex p-0">
		<div class="sidebar bg-dark text-white p-3" style="width: 300px;">
			<h4><i class="fa-solid fa-user me-2"></i> <span th:text=" ${loggedUser.username}"></span></h4>
			<hr>
			<ul class="nav flex-column">
				<!-- Administrator Options -->
				<li class="nav-item" th:if="${role == 'ADMIN'}">
					<a href="#manageUsers" class="nav-link text-white section-link"><i
							class="fa-solid fa-users-cog"></i> Manage Users</a>
							<a href="#manageTeachers" class="nav-link text-white section-link"><i
														class="fa-solid fa-users-cog"></i> Manage Teachers</a>	
							
					<a href="#manageCourses" class="nav-link text-white section-link"><i class="fa-solid fa-book"></i>
						Manage Courses</a>
					<a href="#manageGrades" class="nav-link text-white section-link"><i
							class="fa-solid fa-graduation-cap"></i> Manage Grades</a>
					<a href="#manageFees" class="nav-link text-white section-link"><i class="fa-solid fa-wallet"></i>
						Manage Fees</a>
					<a href="#reports" class="nav-link text-white section-link"><i class="fa-solid fa-chart-bar"></i>
						Reports</a>
				</li>

				<!-- Teacher Options -->
				<li class="nav-item" th:if="${role == 'TEACHER'}">
					<a href="#manageStudents" class="nav-link text-white section-link"><i
							class="fa-solid fa-calendar-check"></i> New addmision</a>
					<a href="#manageParents" class="nav-link text-white section-link"><i
							class="fa-solid fa-calendar-check"></i> Add Parents Details</a>
					<a href="#manageGrades" class="nav-link text-white section-link"><i
							class="fa-solid fa-graduation-cap"></i> Manage Grades</a>
					<a href="#markAttendance" class="nav-link text-white section-link"><i
							class="fa-solid fa-calendar-check"></i> Attendance</a>


					<a href="#manageCourses" class="nav-link text-white section-link"><i class="fa-solid fa-book"></i>
						Course Content</a>
				</li>

				<!-- Student Options -->
				<li class="nav-item" th:if="${role == 'STUDENT'}">
					<a href="#stdcourses" class="nav-link text-white section-link"><i class="fa-solid fa-book"></i>
						Courses</a>
					<a href="#grades" class="nav-link text-white section-link"><i
							class="fa-solid fa-graduation-cap"></i> Grades</a>
					<a href="#attendance" class="nav-link text-white section-link"><i
							class="fa-solid fa-calendar-check"></i> Attendance</a>
					<a href="#feeStatus" class="nav-link text-white section-link"><i class="fa-solid fa-wallet"></i> Fee
						Status</a>
				</li>

				<!-- Parent Options -->
				<li class="nav-item" th:if="${role == 'PARENT'}">
					<a href="#studentProgress" class="nav-link text-white section-link"><i
							class="fa-solid fa-chart-line"></i> Student Progress</a>
					<a href="#attendance" class="nav-link text-white section-link"><i
							class="fa-solid fa-calendar-check"></i> Attendance</a>
					<a href="#feePayments" class="nav-link text-white section-link"><i class="fa-solid fa-wallet"></i>
						Fee Payments</a>
				</li>
			</ul>
			<hr>
			<a href="/logout" class="btn btn-light w-100"><i class="fa-solid fa-sign-out-alt me-2"></i> Logout</a>
		</div>

		<!-- Main Content -->
		<div class="main-content flex-fill bg-light">
			<!-- Dashboard Section -->
			<div id="dashboard">
				<h2>Admin Dashboard</h2>
				<div class="row">
					<div class="col-md-4">
						<div class="card text-white bg-primary mb-3">
							<div class="card-body">
								<div>
									<h5 class="card-title">Total Students</h5>
									<p class="card-text display-6">1200</p>
								</div>
								<i class="fa-solid fa-user-graduate"></i>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<div class="card text-white bg-secondary mb-3">
							<div class="card-body">
								<div>
									<h5 class="card-title">Total Teachers</h5>
									<p class="card-text display-6">75</p>
								</div>
								<i class="fa-solid fa-chalkboard-teacher"></i>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<div class="card text-white bg-danger mb-3">
							<div class="card-body">
								<div>
									<h5 class="card-title">Pending Fees</h5>
									<p class="card-text display-6">â‚¹50,000</p>
								</div>
								<i class="fa-solid fa-money-bill-wave"></i>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Manage Students Section -->
			<div id="manageStudents" class="hidden-section table-container">
				<h3>Manage Students</h3>
				<button class="btn btn-primary mb-3" id="addStudentBtn"><i class="fa-solid fa-plus me-2"></i>Add New
					Student</button>
				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>ID</th>
							<th>First Name</th>
							<th>Last Name</th>
							<th>admissionDate</th>
							<th>Admission Number</th>
							<th>Actions</th>
						</tr>
					</thead>
					<!--<tbody>
						<tr th:each=" stds: ${studentlist}">
							<td th:text="${stds.id}"></td>
							<td th:text="${stds.firstName}"></td>
							<td th:text="${stds.lastName}"></td>
							<td th:text="${stds.admissionNumber}"></td>
							<td th:text="${stds.admissionDate}"></td>
							<td th:text="${stds.className}"></td>
							<td>
								<button class="btn btn-warning btn-sm"><i class="fa-solid fa-pen"></i> Edit</button>
								<button class="btn btn-danger btn-sm"><i class="fa-solid fa-trash"></i> Delete</button>
							</td>
						</tr>
					</tbody>-->
				</table>
			</div>

			<!-- Add Student Form -->
			<div id="addStudentForm" class="hidden-section form-container">
				<h3>Add New Student</h3>
				<form action="/teacher/savestudent" method="post">
					<div class="mb-3">
						<label for="firstName" class="form-label">First Name</label>
						<input type="text" class="form-control" id="firstName" name="firstName"
							placeholder="Enter First Name" required>
					</div>
					<div class="mb-3">
						<label for="lastName" class="form-label">Last Name</label>
						<input type="text" class="form-control" id="lastName" name="lastName"
							placeholder="Enter Last Name" required>
					</div>
					<div class="mb-3">
						<label for="username" class="form-label">Username for student</label>
						<input type="text" class="form-control" id="username" name="username"
							placeholder="Enter username for student" required>
					</div>
					<div class="mb-3">
						<label for="password" class="form-label">Password</label>
						<input type="password" class="form-control" id="password" name="password"
							placeholder="Enter Password" required>
					</div>
					<div class="mb-3">
						<label for="gradeLevel" class="form-label">Greade Level</label>
						<input type="text" class="form-control" id="gradeLevel" name="gradeLevel"
							placeholder="Enter Admission Number" required>
					</div>
					<input type="text" class="form-control" id="role" name="role" value="STUDENT" hidden>
					
					<button type="submit" class="btn btn-primary">Submit</button>
					<button type="button" class="btn btn-secondary" id="cancelAddStudent">Cancel</button>
				</form>
			</div>


			<!--------------------------------------------------------------	admin functions-------------------------------------------------------------------------------------------->
			<!-- Manage Users Section -->
			<div id="manageUsers" class="hidden-section table-container">
				<h3>Mange Users</h3>
				<button class="btn btn-primary mb-3" id="addUserBtn"><i class="fa-solid fa-plus me-2"></i>Add New
					User</button>
				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>User ID</th>
							<th>Username</th>
							<th>Role</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each=" user: ${users}">
							<td th:text="${user.userId}"></td>
							<td th:text="${user.username}"></td>
							<td th:text="${user.role}"></td>
							<td>
								<a th:href="@{/userDetails/{id}(id=${user.userId})}">
									<button class="btn btn-warning btn-sm">
										<i class="fa-solid fa-pen"></i> Edit
									</button>
								</a>

								<a th:href="@{/deleteUser/{id}(id=${user.userId})}">
									<button class="btn btn-danger btn-sm"><i class="fa-solid fa-trash"></i>
										Delete</button>
								</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<!-- Add User Form -->
			<div id="addUserForm" class="hidden-section form-container">
				<h3>Add New User</h3>
				<form action="/adminadduser" method="post">
					<div class="mb-3">
						<label for="username" class="form-label">Username</label>
						<input type="text" class="form-control" id="username" name="username"
							placeholder="Enter Username" required>
					</div>
					<div class="mb-3">
						<label for="password" class="form-label">Password</label>
						<input type="password" class="form-control" id="password" name="password"
							placeholder="Enter Password" required>
					</div>


					<!-- Role Selection (Pre-selected as Teacher) -->
					<div class="mb-3">
						<label for="role" class="form-label">Role</label>
						<select class="form-select" id="role" name="role" required>
							<option value="ADMIN">Admin</option>
							<option value="TEACHER">Teacher</option>
							<option value="STUDENT">Student</option>
							<option value="PARENT">Parent</option>
						</select>
					</div>

					<button type="submit" class="btn btn-primary w-100">Submit</button>
					<button type="button" class="btn btn-secondary w-100 mt-2" id="cancelAddUser">Cancel</button>
				</form>
			</div>
			

			<!-- --------------------------------------------------------------------Manage Teachers Section---------------------------------------------------------------------->

			<div id="manageTeachers" class="hidden-section table-container">
			    <h3>Manage Teachers</h3>
			    <button class="btn btn-primary mb-3" id="addTeacherBtn">
			        <i class="fa-solid fa-plus me-2"></i>Add New Teacher
			    </button>
			    <table class="table table-bordered">
			        <thead class="table-dark">
			            <tr>
			                <th>Teacher ID</th>
			                <th>First Name</th>
							<th>Last Name</th>
			                <th>Username</th>
							<th>Subject</th>
			                <th>Actions</th>
			            </tr>
			        </thead>
			        <tbody>
			            <tr th:each="teacher : ${teacherList}">
			                <td th:text="${teacher.id}"></td>
			                <td th:text="${teacher.firstName}"></td>
			                <td th:text="${teacher.lastName}"></td>
			                <td th:text="${teacher.username}"></td>
							<td th:text="${teacher.subject}"></td>
			                <td>
			                    <a th:href="@{/teacherDetails/{id}(id=${teacher.id})}">
			                        <button class="btn btn-warning btn-sm">
			                            <i class="fa-solid fa-pen"></i> Edit
			                        </button>
			                    </a>
			                    <a th:href="@{/deleteTeacher/{id}(id=${teacher.id})}">
			                        <button class="btn btn-danger btn-sm">
			                            <i class="fa-solid fa-trash"></i> Delete
			                        </button>
			                    </a>
			                </td>
			            </tr>
			        </tbody>
			    </table>
			</div>

			<!-- Add Teacher Form -->
			<div id="addTeacherForm" class="hidden-section form-container">
			    <h3>Add New Teacher</h3>
			    <form action="/saveteacher" method="post">
			        <div class="mb-3">
			            <label for="firstName" class="form-label">Teacher firstName</label>
			            <input type="text" class="form-control" id="firstName" name="firstName"
			                placeholder="Enter Teacher firstName" required>
			        </div>
					<div class="mb-3">
							            <label for="lastName" class="form-label">Teacher lastName</label>
							            <input type="text" class="form-control" id="lastName" name="lastName"
							                placeholder="Enter Teacher lastName" required>
							        </div>
			        <div class="mb-3">
			            <label for="subject" class="form-label">Subject</label>
			            <input type="text" class="form-control" id="subject" name="subject"
			                placeholder="Enter Subject" required>
			        </div>
			        <div class="mb-3">
			            <label for="username" class="form-label">Username</label>
			            <input type="text" class="form-control" id="username" name="username"
			                placeholder="Enter username for teacher" required>
			        </div>
			        <div class="mb-3">
			            <label for="password" class="form-label">Password</label>
			            <input type="password" class="form-control" id="password" name="password"
			                placeholder="Enter Password for teacher" required>
			        </div>

			        <button type="submit" class="btn btn-primary w-100">Submit</button>
			        <button type="button" class="btn btn-secondary w-100 mt-2" id="cancelAddTeacher">Cancel</button>
			    </form>
			</div>
			<!-- --------------------------------------------------------------------Manage Teachers Section---------------------------------------------------------------------->

			<!-- -------------------------------------------------------------------- Manage Courses Section---------------------------------------------------------------------->

			<div id="manageCourses" class="hidden-section table-container">
				<h3>Manage Courses</h3>
				<button class="btn btn-primary mb-3" id="addCourseBtn">
					<i class="fa-solid fa-plus me-2"></i> Add New Course
				</button>

				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Course Name</th>
							<th>Description</th>
							<th>Assigned Teacher</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each=" course: ${courseList}">
							<td th:text="${course.courseName}"></td>
							<td th:text="${course.description}"></td>
							<td th:text="${course.teacherId}"></td>
							<td>
								<a th:href="@{/deletecourse/{id} id=${course.id}}">
									<button class="btn btn-warning btn-sm">
										<i class="fa-solid fa-pen"></i> Edit
									</button>
								</a>
								<a th:href="@{/deletecourse/{id}(id=${course.id}) }">
									<button class="btn btn-danger btn-sm">
										<i class="fa-solid fa-trash"></i> Delete
									</button>
								</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<!--			 Add Course Form -->
			<div id="addCourseForm" class="hidden-section form-container">
				<h3>Add New Course</h3>
				<form action="/addcourse" method="post">
					<div class="mb-3">
						<label for="courseName" class="form-label">Course Name</label>
						<input type="text" class="form-control" id="courseName" name="courseName"
							placeholder="Enter Course Name" required>
					</div>
					<div class="mb-3">
						<label for="description" class="form-label">Description</label>
						<textarea class="form-control" id="description" name="description"
							placeholder="Enter Course Description" rows="3"></textarea>
					</div>

					<div class="mb-3">
						<label for="teacherId" class="form-label">Assign Teacher</label>
						<select class="form-select" id="teacherId" name="teacherId" required>
							<option value="" disabled selected>Select Teacher</option>
							<option th:each="teacher: ${teacherList}" th:value="${teacher.id}"
								th:text="${teacher.firstName + ' ' + teacher.lastName}"></option>
						</select>
					</div>
					<button type="submit" class="btn btn-primary w-100">Submit</button>
					<button type="button" class="btn btn-secondary w-100 mt-2" id="cancelAddCourse">Cancel</button>
				</form>

			</div>

			<!-- Manage Grades Section start -->
			<div id="manageGrades" class="hidden-section table-container">
				<h3>Manage Grades</h3>
				<button class="btn btn-primary mb-3" id="addGradeBtn">
					<i class="fa-solid fa-plus me-2"></i> Add New Grade
				</button>

				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Grade ID</th>
							<th>Student Name</th>
							<th>Course Name</th>
							<th>Grade</th>
							<th>Date Awarded</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="grade: ${gradeList}">
							<td th:text="${grade.id}"></td>
							<td th:text="${grade.studentId}"></td>
							<td th:text="${grade.courseId}"></td>
							<td th:text="${grade.grade}"></td>
							<td th:text="${grade.dateAwarded}"></td>
							<td>
								<a th:href="@{/editgrade/{id}(id=${grade.id})}">
									<button class="btn btn-warning btn-sm">
										<i class="fa-solid fa-pen"></i> Edit
									</button>
								</a>
								<a th:href="@{/deletegrade/{id}(id=${grade.id})}">
									<button class="btn btn-danger btn-sm">
										<i class="fa-solid fa-trash"></i> Delete
									</button>
								</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<!-- Add Grade Form -->
			<div id="addGradeForm" class="hidden-section form-container">
				<h3>Add New Grade</h3>
				<form action="/addgrade" method="post">
					<div class="mb-3">
						<label for="studentId" class="form-label">Select Student</label>
						<select class="form-select" id="studentId" name="studentId" required>
							<option value="" disabled selected>Select Student</option>
							<option th:each="student: ${studentlist}" th:value="${student.userId}"
								th:text="${student.firstName + ' ' + student.lastName}"></option>
						</select>
					</div>
					<div class="mb-3">
						<label for="courseId" class="form-label">Select Course</label>
						<select class="form-select" id="courseId" name="courseId" required>
							<option value="" disabled selected>Select Course</option>
							<option th:each="course: ${courseList}" th:value="${course.id}"
								th:text="${course.courseName}"></option>
						</select>
					</div>
					<div class="mb-3">
						<label for="grade" class="form-label">Grade</label>
						<input type="text" class="form-control" id="grade" name="grade"
							placeholder="Enter Grade (e.g., A, B+, C)" required>
					</div>
					<div class="mb-3">
						<label for="dateAwarded" class="form-label">Date Awarded</label>
						<input type="date" class="form-control" id="dateAwarded" name="dateAwarded" required>
					</div>
					<button type="submit" class="btn btn-primary w-100">Submit</button>
					<button type="button" class="btn btn-secondary w-100 mt-2" id="cancelAddGreade">Cancel</button>
				</form>
			</div>

			<!-- Add Grade Form end -->


			<!-- Manage Fees Section -->

			<!-- Add Fee Form -->
			<div id="addFeeForm" class="hidden-section form-container">
				<h3>Add New Fee</h3>
				<form action="/addfee" method="post">
					<div class="mb-3">
						<label for="studentId" class="form-label">Select Student</label>
						<select class="form-select" id="studentId" name="studentId" required>
							<option value="" disabled selected>Select Student</option>
							<option th:each="student: ${studentlist}" th:value="${student.userId}"
								th:text="${student.firstName + ' ' + student.lastName}"></option>
						</select>
					</div>
					<div class="mb-3">
						<label for="amount" class="form-label">Fee Amount</label>
						<input type="number" class="form-control" id="amount" name="amount"
							placeholder="Enter Fee Amount" required>
					</div>
					<div class="mb-3">
						<label for="dueDate" class="form-label">Due Date</label>
						<input type="date" class="form-control" id="dueDate" name="dueDate" required>
					</div>
					<div class="mb-3">
						<label for="status" class="form-label">Fee Status</label>
						<select class="form-select" id="status" name="status" required>
							<option value="" disabled selected>Select Fee Status</option>
							<option value="PAID">Paid</option>
							<option value="PENDING">Pending</option>
							<option value="OVERDUE">Overdue</option>
						</select>
					</div>
					<button type="submit" class="btn btn-primary w-100">Submit</button>
					<button type="button" class="btn btn-secondary w-100 mt-2" id="cancelAddFee">Cancel</button>
				</form>
			</div>

			<div id="manageFees" class="hidden-section table-container">
				<h3>Manage Fees</h3>
				<button class="btn btn-primary mb-3" id="addFeeBtn">
					<i class="fa-solid fa-plus me-2"></i> Add New Fee
				</button>

				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Fee ID</th>
							<th>Student Name</th>
							<th>Amount</th>
							<th>Due Date</th>
							<th>Status</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="fee: ${feeList}">
							<td th:text="${fee.id}"></td>
							<td th:text="${fee.studentId}"></td>
							<td th:text="${fee.amount}"></td>
							<td th:text="${fee.dueDate}"></td>
							<td th:text="${fee.status}"></td>
							<td>
								<a th:href="@{/editfee/{id}(id=${fee.id})}">
									<button class="btn btn-warning btn-sm">
										<i class="fa-solid fa-pen"></i> Edit
									</button>
								</a>
								<a th:href="@{/deletefee/{id}(id=${fee.id})}">
									<button class="btn btn-danger btn-sm">
										<i class="fa-solid fa-trash"></i> Delete
									</button>
								</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<!--fee section ended-->


			<!-- Report Generation Section -->
			<!-- Reports Section -->
			<div id="reports" class="hidden-section table-container">

				<!-- Generate Report Form -->

				<h4>Generate Report</h4>
				<form action="/generatereport" method="post">
					<div class="mb-3">
						<label for="reportType" class="form-label">Select Report Type</label>
						<select class="form-select" id="reportType" name="reportType" required>
							<option value="" disabled selected>Select Report Type</option>
							<option value="STUDENT_PERFORMANCE">Student Performance</option>
							<option value="ATTENDANCE">Attendance</option>
							<option value="FEE_STATUS">Fee Status</option>
						</select>
					</div>
					<button type="submit" class="btn btn-primary w-100">Generate Report</button>
				</form>


				<!-- Reports Table -->
				<table class="table table-bordered mt-4">
					<thead class="table-dark">
						<tr>
							<th>Report ID</th>
							<th>Report Type</th>
							<th>Generated By</th>
							<th>Generated At</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="report: ${reportList}">
							<td th:text="${report.id}"></td>
							<td th:text="${report.reportType}"></td>
							<td th:text="${report.generatedByUserId}"></td>
							<td th:text="${report.generatedAt}"></td>
							<td>
								<a th:href="@{/downloadreport/{id}(id=${report.id})}">
									<button class="btn btn-success btn-sm">
										<i class="fa-solid fa-download"></i> Download
									</button>
								</a>
								<a th:href="@{/deletereport/{id}(id=${report.id})}">
									<button class="btn btn-danger btn-sm">
										<i class="fa-solid fa-trash"></i> Delete
									</button>
								</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<!--	admin functions end-->

			<!-------------------------------------teacher functions start------------------------------------------------------------------------------------------------------------->
			<!-- --------------------------------------------------------------------Manage Students Section ---------------------------------------------------------------------->
			<div id="manageStudents" class="hidden-section table-container">
				<h3>Manage Students</h3>
				<button class="btn btn-primary mb-3" id="addStudentBtn">
					<i class="fa-solid fa-plus me-2"></i> Add New Student
				</button>

				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Student ID</th>
							<th>First Name</th>
							<th>Last Name</th>
							<th>Date of Birth</th>
							<th>Enrollment Date</th>
							<th>Parent</th>
							<th>Actions</th>
						</tr>
					</thead>
					<!--<tbody>
			            <tr th:each="student : ${studentList}">
			                <td th:text="${student.user.id}"></td>
			                <td th:text="${student.user.firstName}"></td>
			                <td th:text="${student.user.lastName}"></td>
			                <td th:text="${student.dateOfBirth}"></td>
			                <td th:text="${student.enrollmentDate}"></td>
			                <td>
			                    <span th:if="${student.parent != null}" th:text="${student.parent.user.firstName + ' ' + student.parent.user.lastName}"></span>
			                    <span th:unless="${student.parent != null}">No Parent Assigned</span>
			                </td>
			                <td>
			                    <a th:href="@{/editStudent/{id}(id=${student.user.id})}">
			                        <button class="btn btn-warning btn-sm">
			                            <i class="fa-solid fa-pen"></i> Edit
			                        </button>
			                    </a>
			                    <a th:href="@{/deleteStudent/{id}(id=${student.user.id})}">
			                        <button class="btn btn-danger btn-sm">
			                            <i class="fa-solid fa-trash"></i> Delete
			                        </button>
			                    </a>
			                </td>
			            </tr>
			        </tbody>-->
				</table>
			</div>

			<!-- Add Student Form -->
			<div id="addStudentForm" class="hidden-section form-container">
				<h3>Add New Student</h3>
				<form action="/students/addDetails" method="post">
					<div class="mb-3">
						<label for="userId" class="form-label">Select User</label>
						<select class="form-select" id="userId" name="userId" required>
							<option value="" disabled selected>Select Student User</option>
							<!-- <option th:each="user: ${studentUsers}" th:value="${user.id}"
			                    th:text="${user.firstName + ' ' + user.lastName}"></option>-->
						</select>
					</div>
					<div class="mb-3">
						<label for="dateOfBirth" class="form-label">Date of Birth</label>
						<input type="date" class="form-control" id="dateOfBirth" name="dateOfBirth" required>
					</div>
					<div class="mb-3">
						<label for="enrollmentDate" class="form-label">Enrollment Date</label>
						<input type="date" class="form-control" id="enrollmentDate" name="enrollmentDate" required>
					</div>
					<div class="mb-3">
						<label for="parentId" class="form-label">Assign Parent</label>
						<select class="form-select" id="parentId" name="parentId">
							<option value="" disabled selected>Select Parent (Optional)</option>
							<!--  <option th:each="parent: ${parentList}" th:value="${parent.user.id}"
			                    th:text="${parent.user.firstName + ' ' + parent.user.lastName}"></option>-->
						</select>
					</div>
					<button type="submit" class="btn btn-primary w-100">Submit</button>
					<button type="button" class="btn btn-secondary w-100 mt-2" id="cancelAddStudent">Cancel</button>
				</form>
			</div>

			<!-- --------------------------------------------------------------------Manage Students Section ---------------------------------------------------------------------->


			<!----------------------------------Manage Parents Section--------------------------------------------------------------------------------------------------------- -->
			<!-- Manage Parents Section -->
			<div id="manageParents" class="hidden-section table-container">
				<h3>Manage Parents</h3>
				<button class="btn btn-primary mb-3" id="addParentBtn">
					<i class="fa-solid fa-plus me-2"></i> Add New Parent
				</button>

				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Parent ID</th>
							<th>First Name</th>
							<th>Last Name</th>
							<th>Contact Number</th>
							<th>Assigned Students</th>
							<th>Actions</th>
						</tr>
					</thead>
					<!--<tbody>
			            <tr th:each="parent : ${parentList}">
			                <td th:text="${parent.user.id}"></td>
			                <td th:text="${parent.user.firstName}"></td>
			                <td th:text="${parent.user.lastName}"></td>
			                <td th:text="${parent.contactNumber}"></td>
			                <td>
			                    <span th:each="student, iter : ${parent.students}">
			                        <span th:text="${student.user.firstName + ' ' + student.user.lastName}"></span>
			                        <span th:if="${!iter.last}">, </span>
			                    </span>
			                    <span th:if="${#lists.isEmpty(parent.students)}">No Students Assigned</span>
			                </td>
			                <td>
			                    <a th:href="@{/editParent/{id}(id=${parent.user.id})}">
			                        <button class="btn btn-warning btn-sm">
			                            <i class="fa-solid fa-pen"></i> Edit
			                        </button>
			                    </a>
			                    <a th:href="@{/deleteParent/{id}(id=${parent.user.id})}">
			                        <button class="btn btn-danger btn-sm">
			                            <i class="fa-solid fa-trash"></i> Delete
			                        </button>
			                    </a>
			                </td>
			            </tr>
			        </tbody>-->
				</table>
			</div>


			<!-- Add Parent Form -->
			<div id="addParentForm" class="hidden-section form-container">
				<h3>Add New Parent</h3>
				<form action="/parents/addDetails" method="post">
					<div class="mb-3">
						<label for="userId" class="form-label">Select User</label>
						<select class="form-select" id="userId" name="userId" required>
							<option value="" disabled selected>Select Parent User</option>
							<!--<option th:each="user: ${parentUsers}" th:value="${user.id}"
			                    th:text="${user.firstName + ' ' + user.lastName}"></option>-->
						</select>
					</div>
					<div class="mb-3">
						<label for="contactNumber" class="form-label">Contact Number</label>
						<input type="text" class="form-control" id="contactNumber" name="contactNumber"
							placeholder="Enter Contact Number" required>
					</div>
					<div class="mb-3">
						<label for="studentIds" class="form-label">Assign Students</label>
						<select class="form-select" id="studentIds" name="studentIds" multiple>
							<!-- <option th:each="student: ${studentList}" th:value="${student.user.id}"
			                    th:text="${student.user.firstName + ' ' + student.user.lastName}"></option>-->
						</select>
						<small class="form-text text-muted">Hold Ctrl (Windows) or Command (Mac) to select multiple
							students.</small>
					</div>
					<button type="submit" class="btn btn-primary w-100">Submit</button>
					<button type="button" class="btn btn-secondary w-100 mt-2" id="cancelAddParent">Cancel</button>
				</form>
			</div>

			<!-- Parent section end -->

			<!-- Add Teacher Form -->
			<div id="addTeacherForm" class="hidden-section form-container">
				<h3>Add New Teacher</h3>
				<form action="/teachers/addDetails" method="post">
					<div class="mb-3">
						<label for="userId" class="form-label">Select User</label>
						<select class="form-select" id="userId" name="userId" required>
							<option value="" disabled selected>Select Teacher User</option>
							<!-- <option th:each="user: ${teacherUsers}" th:value="${user.id}"
			                    th:text="${user.firstName + ' ' + user.lastName}"></option>-->
						</select>
					</div>
					<div class="mb-3">
						<label for="subject" class="form-label">Subject</label>
						<input type="text" class="form-control" id="subject" name="subject"
							placeholder="Enter Subject Taught" required>
					</div>
					<button type="submit" class="btn btn-primary w-100">Submit</button>
					<button type="button" class="btn btn-secondary w-100 mt-2" id="cancelAddTeacher">Cancel</button>
				</form>
			</div>
			<!-- Add Teacher Form end-->

			<!-- Mark Attendance Section -->
			<div id="markAttendance" class="hidden-section table-container">
				<h3>Mark Attendance</h3>
				<button class="btn btn-primary mb-3" id="addAttendanceBtn">
					<i class="fa-solid fa-plus me-2"></i> Mark Attendance
				</button>

				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Attendance ID</th>
							<th>Student Name</th>
							<th>Course Name</th>
							<th>Attendance Date</th>
							<th>Status</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="attendance: ${attendanceList}">
							<td th:text="${attendance.id}"></td>
							<td th:text="${attendance.studentId}"></td>
							<td th:text="${attendance.courseId}"></td>
							<td th:text="${attendance.attendanceDate}"></td>
							<td th:text="${attendance.status}"></td>
							<td>
								<a th:href="@{/editattendance/{id}(id=${attendance.id})}">
									<button class="btn btn-warning btn-sm">
										<i class="fa-solid fa-pen"></i> Edit
									</button>
								</a>
								<a th:href="@{/deleteattendance/{id}(id=${attendance.id})}">
									<button class="btn btn-danger btn-sm">
										<i class="fa-solid fa-trash"></i> Delete
									</button>
								</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<!-- Add Attendance Form -->
			<div id="addAttendanceForm" class="hidden-section form-container">
				<h3>Mark Attendance</h3>
				<form action="/addattendance" method="post">
					<div class="mb-3">
						<label for="studentId" class="form-label">Select Student</label>
						<select class="form-select" id="studentId" name="studentId" required>
							<option value="" disabled selected>Select Student</option>
							<option th:each="student: ${studentlist}" th:value="${student.userId}"
								th:text="${student.firstName + ' ' + student.lastName}"></option>
						</select>
					</div>
					<div class="mb-3">
						<label for="courseId" class="form-label">Select Course</label>
						<select class="form-select" id="courseId" name="courseId" required>
							<option value="" disabled selected>Select Course</option>
							<option th:each="course: ${courseList}" th:value="${course.id}"
								th:text="${course.courseName}"></option>
						</select>
					</div>
					<div class="mb-3">
						<label for="attendanceDate" class="form-label">Attendance Date</label>
						<input type="date" class="form-control" id="attendanceDate" name="attendanceDate" required>
					</div>
					<div class="mb-3">
						<label for="status" class="form-label">Status</label>
						<select class="form-select" id="status" name="status" required>
							<option value="" disabled selected>Select Status</option>
							<option value="PRESENT">Present</option>
							<option value="ABSENT">Absent</option>
							<option value="LATE">Late</option>
						</select>
					</div>
					<button type="submit" class="btn btn-primary w-100">Submit</button>
					<button type="button" class="btn btn-secondary w-100 mt-2" id="cancelAddAttendance">Cancel</button>
				</form>
			</div>


			<!--------------------------------------------------teacher functions end-------------------------------------------------------------------------------------------------->

			<!--------------------------------------------------student functions start-------------------------------------------------------------------------------------------------->
			<div id="stdcourses" class="hidden-section table-container">
				<h3>My Courses</h3>
				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Course ID</th>
							<th>Course Name</th>
							<th>Course Description</th>
							<th>Teacher ID</th>
							<th>Teacher Name</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="course: ${enrollmentofstudent}">
							<td th:text="${course.id}"></td>
							<td th:text="${course.studentId}"></td>
							<td th:text="${course.courseId}"></td>
						</tr>
					</tbody>
				</table>
			</div>
			<div id="grades" class="hidden-section table-container">
				<h3>My Grades</h3>
				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Course ID</th>
							<th>Grade</th>
							<th>Date </th>
							<th>Student ID</th>
							<th>Student Name</th>

						</tr>
					</thead>
					<tbody>
						<tr th:each="grade: ${studentGrades}">
							<td th:text="${grade.courseId}"></td>
							<td th:text="${grade.grade}"></td>
							<td th:text="${grade.dateAwarded}"></td>
							<td th:text="${grade.studentId}"></td>
							<td th:text="${loggedUser.username}"></td>

						</tr>
					</tbody>
				</table>
			</div>
			<div id="attendance" class="hidden-section table-container">
				<h3>My Attendance</h3>
				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Course</th>
							<th>Date</th>
							<th>Status</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="attendance: ${attendanceRecords}">
							<td th:text="${attendance.studentId}"></td>
							<td th:text="${attendance.attendanceDate}"></td>
							<td th:text="${attendance.courseId}"></td>
							<td>
								<span
									th:class="${attendance.status == 'PRESENT' ? 'badge bg-success' : (attendance.status == 'LATE' ? 'badge bg-warning' : 'badge bg-danger')}"
									th:text="${attendance.status}">
								</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div id="feeStatus" class="hidden-section table-container">
				<h3>My Fee Status</h3>
				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Amount</th>
							<th>Due Date</th>
							<th>Status</th>
							<th>Actions</th>
						</tr>
					</thead>
					<!-- <tbody>
			            <tr th:each="fee: ${feeList}">
			                <td th:text="'â‚¹' + ${fee.amount}"></td>
			                <td th:text="${fee.dueDate}"></td>
			                <td>
			                    <span th:class="${fee.paymentStatus == 'PAID' ? 'badge bg-success' : 'badge bg-danger'}"
			                          th:text="${fee.paymentStatus}">
			                    </span>
			                </td>
			                <td>
			                    <a th:if="${fee.paymentStatus == 'PENDING'}" th:href="@{/payFee/{id}(id=${fee.id})}">
			                        <button class="btn btn-primary btn-sm">Pay Now</button>
			                    </a>
			                </td>
			            </tr>
			        </tbody>-->
				</table>
			</div>


			<!--------------------------------------------------student functions end-------------------------------------------------------------------------------------------------->

			<!-- Finance Section -->
			<div id="finance" class="hidden-section table-container">
				<h3>Finance</h3>
				<button class="btn btn-primary mb-3"><i class="fa-solid fa-plus me-2"></i>Add Fee Structure</button>
				<table class="table table-bordered">
					<thead class="table-dark">
						<tr>
							<th>Class</th>
							<th>Fee Amount</th>
							<th>Paid</th>
							<th>Due</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Class 10</td>
							<td>â‚¹50,000</td>
							<td>â‚¹40,000</td>
							<td>â‚¹10,000</td>
							<td>
								<button class="btn btn-warning btn-sm"><i class="fa-solid fa-pen"></i> Edit</button>
								<button class="btn btn-danger btn-sm"><i class="fa-solid fa-trash"></i> Delete</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

		</div>
	</div>
</body>
<script th:src="@{/script/dashboard.js}"></script>

</html>